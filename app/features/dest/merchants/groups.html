<script type="text/ng-template" id="merchantCreateContent.html"><div class="modal-header"><h3 class="modal-title subtle"><span class="subtle">Create Merchant Group</span></h3><button type="button" ng-click="cancel()" class="close">x</button></div><div class="modal-body"><form name="merchantCreateForm" ng-submit="ok()" novalidate="novalidate" class="merchantCreateForm"><div class="row"><div class="col-md-6"><p>Merchant Name</p><input type="text" placeholder="Enter Custom Group Name" id="merchantGroupName" class="form-control"/></div><div class="col-md-6"><p>Currency</p><select ng-options="item.Id as item.Name for item in currencies" ng-model="blahcurrency" class="form-control"></select></div></div><div class="row"><div class="col-md-6"><p>Balancing Type</p><select id="BalancingType" class="form-control"><option value="0">None</option><option value="1">Cap</option><option value="2">Priority</option></select></div><div class="col-md-6"><p>Email For Notification</p><input type="text" placeholder="Enter Emails" class="form-control"/></div></div><div class="merchant_feedback"><p class="p-title">Confirm New Merchant Details</p><a type="submit" ng-click="ok()" class="save_btn">Save</a></div><div class="userCreateSuccess"><p>Merchant Account Created</p></div></form><div class="nameError"><p>{{createErrorMsg}}</p></div></div><div class="modal-footer"><a ng-click="submitUserCreate()"><i class="fa fa-plus"></i><span>Create</span></a><a ng-click="cancel()"><i class="fa fa-sign-out"></i><span>Exit</span></a></div></script><div class="row"><h1>Merchant Accounts - Management MID Groups</h1></div><div class="merchant_view"><div class="panel panel-default"><div class="panel-heading"><div class="row"><div class="col-md-6"><h2 class="panel-title"><i class="fa fa-icon"></i>MID Groups Available: {{groupAmount}}</h2></div><div class="col-md-6"><a href="" ng-csv="groupCSV" filename="groupExport.csv" ng-if="groupAmount != 0" class="def_btn wet_asphalt_btn float-right"><i class="fa fa-file-excel-o"> </i><span>Excel Export</span></a><a href="" ng-click="open()" ng-controller="createMerchantModalCtrl" class="def_btn emerald_btn float-right margin-right"> <i class="fa fa-plus"></i><span>Create MID Group</span></a></div></div></div><div class="panel-body"><h3 ng-if="groupAmount == 0" class="noResults">{{'There are currently no MID groups setup for this account.'}} </h3><accordion ng-if="groupAmount != 0"><table st-table="shownMerchants" st-safe-src="groupsBulk" class="table ng-table-responsive table-striped"><thead><tr><th colspan="7"><input st-search="" type="search" placeholder="Filter through all MID groups" class="form-control"/></th><tr><th st-sort="Name" class="st-header">Merchant Name</th><th st-sort="BalancingType" class="st-header">Balancing Type</th><!--th.st-header(st-sort="CapLimitNotificationEmails" style="width:15%") Cap Limit Notification Email--><th st-sort="Currency.Name" class="st-header">Currency Name</th><th style="width:25%" colspan="2" class="st-header-nosort">Actions</th></tr></tr></thead><tbody ng-repeat="merchant in shownMerchants"><tr id="base{{$index}}"><td>{{merchant.Name}}</td><td>{{merchant.BalancingType}}</td><!--td {{merchant.CapLimitNotificationEmails}}--><td>{{merchant.Currency.Name}}</td><td><a href="" ng-click="openMID(merchant); loadMIDS(merchant.Id,merchant); checkWindow(shownMerchants)" ng-controller="addMIDSmodalCtrl" class="row_btn emerald_btn margin-right"><i class="fa fa-plus"></i><span>Add MIDs</span></a><a href="" ng-click="loadMIDS(merchant.Id,merchant); gotoMID($index,shownMerchants)" class="row_btn wet_asphalt_btn margin-right"><i class="fa fa-eye"></i><span>Mids</span></a><a ng-click="open(merchant)" ng-controller="editMerchantModalCtrl" class="row_btn turquoise_btn margin-right"> <i class="fa fa-edit"></i><span>Edit</span></a><a ng-click="open($index,merchant)" ng-controller="removeMerchantModalCtrl" class="row_btn alazarin_btn"> <i class="fa fa-trash"></i><span>Delete</span></a></td><td class="hidden_td"><tr><td colspan="6" class="pushToggle"><accordion-group heading="" ng-click="loadMIDS(merchant.Id,merchant)" is-open="merchant.open"><table class="table table-striped"><thead><tr><th>MID Name</th><th>Rollover MID</th><th>Monthly Cap</th><th>Actions</th></tr></thead><tbody><tr ng-repeat="mid in mids"><td>{{mid.DisplayName}}</td><td>{{mid.RolloverMidName}}</td><td>{{mid.MonthlyCap}}</td><td> <a ng-click="openIt(mid)" ng-controller="midsModalCtrl" class="row_btn turquoise_btn margin-right"> <i class="fa fa-edit"></i><span>Edit</span></a><a ng-click="openMID($index,mid)" ng-controller="midsConfirmModalCtrl" class="row_btn alazarin_btn margin-right"> <i class="fa fa-trash"></i><span>Remove</span></a></td></tr></tbody></table></accordion-group></td></tr></td></tr></tbody></table></accordion></div></div></div>