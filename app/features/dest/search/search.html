    <script type="text/ng-template" id="transModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title"><span class="subtle">Transaction Details:</span> {{trans.TransactionId}} <span class="subtle">Name:</span> {{trans.FirstName}} {{trans.LastName}}</h3>
            <button type="button" class="close" ng-click="cancel()">x</button>
        </div>
        <div class="modal-body sale_info">
           
        <div ng-controller="TabsDemoCtrl">

      <tabset justified="true">
        <tab heading="Sale Information">
     
        <div class="row">
        <div class="col-md-6">
            <p><span>Transaction ID:</span>{{trans.TransactionId}}</p>
            <p><span>Mid Display Name:</span>{{trans.MidDisplayName}}</p>
            <p><span>Transaction Type:</span>{{trans.Type}}</p>
            <p><span>Amount:</span>{{trans.Amount | currency}} {{trans.Currency}}</p>
            <p><span>Response:</span>{{trans.ResponseDescription}}</p>
            <p><span>Request Date:</span>{{trans.RequestDate}}</p>
            <p><span>API User:</span>{{trans.ApiUser}}</p>
            <p><span>Reference Number:</span>{{trans.ReferenceNumber}}</p>
            <p><span>Authorization Code:</span>{{trans.AuthorizationCode}}</p>
            <p>&nbsp;</p>
        </div>
        <div class="col-md-6">
            <p><span>First Name:</span>{{trans.FirstName}}</p>
            <p><span>Last Name:</span>{{trans.LastName}}</p>
            <p><span>Email:</span>{{trans.Email}}</p>
            <p><span>IP:</span>{{trans.Ip}}</p>
            <p><span>Billing Address:</span>{{trans.BillingAddress}}</p>
            <p><span>Billing Address:</span>{{trans.BillingAddress2}}</p>
            <p><span>Billing City:</span>{{trans.BillingCity}}</p>
            <p><span>Billing Zip:</span>{{trans.BillingZip}}</p>
        </div>
        </div>

        <div class="row past_info">
        <div class="col-lg-12">
          <p><span>Original MID Transaction Number:</span>{{trans.OriginalMidTransactionNumber}}<span class="subtle" ng-show="trans.OriginalMidTransactionNumber == ''">No original MIDe</span></p>
          <p><span>Previous Transaction Sent:</span>{{trans.PreviousTransactionNumberSent}}<span class="subtle" ng-show="trans.PreviousTransactionNumberSent == ''">No previous transaction</span> </p>
          <p><span>Authorization Code Sent:</span>{{trans.AuthorizationCodeSent}}<span class="subtle" ng-show="trans.AuthorizationCodeSent == ''">No authorization code</span> </p>
        </div>
        </div>

        </tab>
        <!-- No chargeback as of this time on this modal
        <tab heading="chargeback">

        <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <span>Chargeback Status</span>
            <select class="form-control">
                <option>Disputed</option>
                <option>Declined</option>
            </select>

            <span>Chargeback Status</span>
            <select class="form-control">
                <option>--Select--</option>
                <option>Declined</option>
            </select>

            <span>Case #:</span>
            <input type="text" class="form-control">

            <span>ARN #</span>
            <input type="text" class="form-control">

        </div>
        </div>


        </tab>
        
        <tab heading="fraud info">
            <div class="row">
                <div class="col-md-6">
                    <p><span>Risk Score:</span>{{transaction.fraud_info.risk_score}}</p>
                    <p><span>Free Mail:</span>{{transaction.fraud_info.free_mail}}</p>
                    <p><span>Carder Email:</span>{{transaction.fraud_info.carder_email}}</p>
                    <p><span>Explanation:</span></p>
                    <p><span>Bin Match:</span>{{transaction.fraud_info.bin_match}}</p>
                    <p><span>Bin Country:</span>{{transaction.fraud_info.bin_country}}</p>
                    <p><span>Bin Name:</span>{{transaction.fraud_info.bin_name}}</p>
                    <p><span>Phone:</span>{{transaction.fraud_info.bin_phone}}</p>
                </div>
            </div>
        </tab>
      </tabset>
    </div> 
    -->
        </div>
        <div class="modal-footer">
             <a href="" class="cancel_btn" ng-click="cancel()">Exit</a>
             <!--<a href="" ng-click="ok()">Save</a>-->
        </div>

    </script>    <!--MODAL WINDOW--> 
    <script type="text/ng-template" id="voidModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title"><span class="subtle">Void Transaction:</span> {{trans.TransactionId}} <span class="subtle">Name:</span> {{trans.FirstName}} {{trans.LastName}}</h3>
            <button type="button" class="close" ng-click="cancelVoid()">x</button>
         </div>
        <div class="modal-body">               
         <table class="table table-responsive">
            <thead>
                <tr>
                    <th>Transaction Id</th>
                    <th>CRM MID</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            <thead>
            <tbody>
                <tr>
                    <td>{{trans.TransactionId}}</td>
                    <td>{{trans.MidDisplayName}}</td>
                    <td>{{trans.Amount | currency}}</td>
                    <td>{{trans.Currency}}</td>
                    <td>{{trans.FirstName}}</td>
                    <td>{{trans.LastName}}</td>
                </tr>
            </tbody>
         </table>

        </div>

        <div class="MID_feedback">
            <p class="p-title">Are You Sure You Want To Void This Transaction?</p>
            <h3>{{activeUser}}</h3>
            <a href="" class="confirm_btn" ng-click="confirmVoid()">Confirm</a>
        </div>

        <div class="userCreateSuccess">
            <p>Void Successful</p>
        </div>

        <div class="userError">
            <p>Void Failed</p>
        </div>

         <div class="modal-footer">
            <section class="voidBtns">
            <!-- Response -->
              <h3 class="text-center jumbotron voidFeedback">Action Status: <span>{{voidStatus}}</span></h3>              
            <!--Buttons -->
              <a href=""  class="action_btn" ng-click="processVoid(trans.TransactionId)">Void</a>
              <a href="" class="cancel_btn" ng-click="cancelVoid()">Cancel</a>
            </section>
        </div>
     </script>
<!--MODAL WINDOW--> 
    <script type="text/ng-template" id="refundModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title"><span class="subtle">Refund Transaction:</span> {{trans.TransactionId}} <span class="subtle">Name:</span> {{trans.FirstName}} {{trans.LastName}}</h3>
            <button type="button" class="close" ng-click="cancelRefund()">x</button>
         </div>
        <div class="modal-body">
          <table class="table-refund-input">
            <tbody>
                <tr>
                    <td><h3 class="refund-panel">Refund Amount: </h3></td>
                    <td><input class="form-control amount_input" id="refundAmount" type="text" placeholder="Enter Refund Amout" required></td>
                    <td>{{trans.Currency}}</td>
                </tr>
            </tbody>
         </table>


          <table class="table table-responsive">
            <h3>Transaction Details</h3>
            <thead>
                <tr>
                    <th>Transaction Id</th>
                    <th>CRM MID</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            <thead>
            <tbody>
                <tr>
                    <td>{{trans.TransactionId}}</td>
                    <td>{{trans.MidDisplayName}}</td>
                    <td>{{trans.Amount | currency}}</td>
                    <td>{{trans.Currency}}</td>
                    <td>{{trans.FirstName}}</td>
                    <td>{{trans.LastName}}</td>
                </tr>
            </tbody>
         </table>
            
        <div class="MID_feedback">
            <p class="p-title">Are You Sure You Want To Refund?</p>
            <h3>{{trans.Currency}} {{refundAmount | currency}}</h3>
            <a href="" class="confirm_btn" ng-click="confirmRefund()">Confirm</a>
        </div>

        <div class="userCreateSuccess">
          <p>Refund Successful</p>
        </div>

        <div class="userError">
            <p>Refund Failed</p>
        </div>
                
        </div>
         <div class="modal-footer">
            <section class="voidBtns">
              <a href=""  class="action_btn" ng-click="processRefund(trans.Amount,trans.TransactionId)">Refund</a>
              <a href="" class="cancel_btn" ng-click="cancelRefund()">Cancel</a>
            </section>
        </div>
     </script><div class="dash"><div class="row searchType"><h2 class="lead">Search Type<select ng-model="searchType" class="form-control"><option>Select A Search Mode</option><option>Single</option><option>Groups</option></select></h2></div><div ng-show="searchType == 'Single'" class="row"><h1>Search</h1><form role="form" ng-submit="search_form.$valid &amp;&amp; submit()" name="search_form" novalidate="novalidate" class="form searcher panel panel-default"><div class="panel-heading"><h2 class="panel-title">Search Options</h2></div><div class="panel-body"><h2 class="date_title search_header">Date Selection:</h2><div class="row"><div class="col-sm-8"><div class="col-md-6 nopad">
<div ng-controller="firstdateCtrl" class="daterangePick">
       
    <input type="text" ng-model="search_form.fromDate" class="form-control" datepicker-popup="{{format}}" is-open="opened" min-date="'minDate'" max-date="'maxDate'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="false" close-text="Close" placeholder="From Date   {{fromDate | date:'MM/dd/yy'}}" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
</div>
</div>

<div class="col-md-6">
<div ng-controller="secdateCtrl" class="daterangePick">
    
    <input type="text" ng-model="search_form.toDate" class="form-control" datepicker-popup="{{format}}" is-open="opened" min-date="'minDate'" max-date="'maxDate'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="false" close-text="Close" placeholder="To Date   {{toDate | date:'MM/dd/yy'}}" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
</div>
</div>



</div><div class="col-sm-4"></div></div><h2 class="search_header">User Details:</h2><div class="row"><div class="col-md-4"><div class="form-group"><label>Last Name</label><input type="text" placeholder="ex Nelson" ng-model="search_form.lname" id="lname" value="name"/></div></div><div class="col-md-4"><label>First Name</label><input type="text" placeholder="ex John" ng-model="search_form.fname"/></div><div class="col-md-4"><label>Email</label><input type="text" placeholder="ex johndoe@email.com" ng-model="search_form.email"/></div></div><div class="row"><div class="col-md-4"><div class="form-group"><label>Transaction ID</label><input type="text" placeholder="ex 5489629" ng-model="search_form.transID"/></div></div><div class="col-md-4"><div class="form-group"><label>Credit Card's Last 4 Digits</label><input type="text" placeholder="ex 1680" ng-model="search_form.cc_digits"/></div></div><div class="col-md-4"><label>Phone Number</label><input type="text" placeholder="ex 619-445-9654" ng-model="search_form.phoneNum"/></div></div><div class="advanced_fields"><h2 class="tagged">Advanced Search</h2><div class="row"><div class="col-md-3"><div class="form-group"><label>Status</label><select ng-model="search_form.statusmenu" ng-options="obj.value as obj.text for obj in statusItems" class="form-control"><option value="">Select An Item</option></select></div></div><div class="col-md-3"><label>Mid Group</label><select ng-model="search_form.midmenu" ng-options="obj.Id as obj.Name for obj in groupsBulk" class="form-control"><option value="">Select An Item</option></select></div><div class="col-md-3"><label>Transaction Type</label><select ng-model="search_form.transmenu" ng-options="obj.value as obj.text for obj in transItems" class="form-control"><option value="">Select An Item</option></select></div><div class="col-md-3"><label>Reference Number</label><input type="text" placeholder="ex 898989898" ng-model="search_form.refNum"/></div></div></div><div class="row text-center"><button type="submit" id="submit" class="generate_results"><i class="fa fa-search"> </i><span> Search</span></button><a href="" ng-click="toggleSearch()" class="advanced_search">Advanced Search</a></div></div></form><div class="search_feedback"><div class="panel panel-default table_search_results"><div class="panel-heading search_table_heading"><div class="row"><div class="col-md-6"><h2 class="panel-title">Search Results <span>{{resultAmount}}</span></h2></div><div class="col-md-6"><a href="" ng-csv="transactionCSV" filename="transactions.csv" ng-show="transactionCSV.length" class="def_btn wet_asphalt_btn float-right"> <i class="fa fa-file-excel-o"></i><span>Export Excel</span></a><a tooltip="Begin a new search" tooltip-placement="top" href="" ng-click="new_search()" class="def_btn belize_hole_btn float-right margin-right"> <i class="fa fa-search"> </i><span>New Search</span></a><a tooltip="Modify existing search" tooltip-placement="top" href="" ng-click="modform()" class="def_btn peter_river_btn float-right margin-right"><i class="fa fa-search-plus"></i><span>Modify Search</span></a></div></div></div><div class="panel-body"><h3 ng-if="resultAmount == 0" class="noResults">{{'We apologize but there are no results found for your search'}}</h3><table st-table="shownData" st-safe-src="data" ng-if="resultAmount != 0" class="table table-striped ng-table-responsive primary_search_table"><thead><tr class="search-header-blank"><th colspan="13"><input st-search="" type="search" placeholder="Filter through all search results..." class="form-control"/></th></tr><tr><th st-sort="TransactionId" width="6%" class="st-header">Trans ID</th><th st-sort="Type" width="5%" class="st-header">Type</th><th st-sort="Gateway" width="5%" class="st-header">Gateway</th><th st-sort="MidDisplayName" width="10%" class="st-header">MID Name</th><th st-sort="RequestDate" width="5%" class="st-header">Date</th><th st-sort="Amount" width="5%" class="st-header">Amount</th><th st-sort="PaymentTypeName" width="6%" class="st-header">CC Type</th><th st-sort="CcLastFour" width="5%" class="st-header">#CC</th><th st-sort="ResponseDescription" width="5%" class="st-header">Status</th><th st-sort="FirstName" width="7%" class="st-header">First Name</th><th st-sort="LastName" width="7%" class="st-header">Last Name</th><th st-sort="Email" width="10%" class="st-header">Email</th><th width="14%" class="st-header-nosort">Actions</th></tr></thead><tbody><tr><td><span tooltip="Filter by entering an ID" tooltip-placement="top"> <input st-search="'TransactionId'" type="search" placeholder="Filter ID" class="form-control"/></span></td><td><span tooltip="Filter by entering a transaction type" tooltip-placement="top"> <input st-search="'Type'" type="search" placeholder="Filter Type" class="form-control"/></span><!--select.form-control(ng-model="typeFilter")option(value="") All
option(value="Authorize") Authorize
option(value="Charge") Charge
option(value="Refund") Refund
option(value="Void") Void

--></td><td> <span tooltip="Filter by entering a gateway" tooltip-placement="top"> <input st-search="'Gateway'" type="search" placeholder="Filter Gateway" class="form-control"/></span></td><td><span tooltip="Filter by entering a MID name" tooltip-placement="top"> <input st-search="'MidDisplayName'" type="search" placeholder="Filter MID" class="form-control"/></span></td><td><span tooltip="Filter by entering a date" tooltip-placement="top"><input st-search="'RequestDate'" type="search" placeholder="Filter Date" class="form-control"/></span></td><td><span tooltip="Filter by entering an amount" tooltip-placement="top"> <input st-search="'Amount'" type="search" placeholder="Filter Amount" class="form-control"/></span></td><td><span tooltip="Filter by entering a credit card type e.g. AMEX, Visa, Mastercard, Discover " tooltip-placement="top"></span><!--select.form-control(ng-model="paymentFilter")option(value="") All
option(value="Visa") Visa
option(value="Discover") Discover
option(value="Mastercard") Mastercard
option(value="AMEX") AMEX
--></td><td><span tooltip="Filter by entering credit card number" tooltip-placement="top"> <input st-search="'CcLastFour'" type="search" placeholder="Filter CC" class="form-control"/></span></td><td><span tooltip="Filter by entering a gateway response description name" tooltip-placement="top"> <input st-search="'ResponseDescription'" type="search" placeholder="Filter Description" class="form-control"/></span><!--select.form-control(ng-model="statusFilter")option(value="") All
option(value="Success") Success
option(value="Declined") Declined
option(value="Failed") Failed
--></td><td><span tooltip="Filter by entering a first name" tooltip-placement="top"> <input st-search="'FirstName'" type="search" placeholder="Filter First Name" class="form-control"/></span></td><td><span tooltip="Filter by entering a last name" tooltip-placement="top"> <input st-search="'LastName'" type="search" placeholder="Filter Last Name" class="form-control"/></span></td><td><span tooltip="Filter by entering an email" tooltip-placement="top"> <input st-search="'Email'" type="search" placeholder="Filter Email" class="form-control"/></span></td><td><span></span></td></tr><tr ng-repeat="trans in shownData"><td class="search-results-trans-id"><a tooltip="See transaction details for {{trans.TransactionId}}" tooltip-placement="top" href="" ng-click="open(trans)" ng-controller="transModalCtrl" class="row_btn peter_river_btn full_width"><i class="fa fa-eye"></i><span>{{trans.TransactionId}}</span></a></td><td>{{trans.Type}}</td><td>{{trans.Gateway}}</td><td>{{trans.MidDisplayName}}</td><td>{{trans.RequestDate | date:'shortDate' }}</td><td ng-class="(trans.Amount &gt; 0) ? 'cash_pos' : 'cash_neg' ">{{trans.Amount | currency }}</td><td class="paymentTypes"><div ng-if="trans.PaymentTypeName == 'Discover'"><i class="fa fa-cc-discover fa-2x"> </i><span></span></div><div ng-if="trans.PaymentTypeName == 'Mastercard'"><i class="fa fa-cc-mastercard fa-2x"> </i><span></span></div><div ng-if="trans.PaymentTypeName == 'Visa'"><i class="fa fa-cc-visa fa-2x"> </i><span></span></div><div ng-if="trans.PaymentTypeName == 'AMEX'"><i class="fa fa-cc-amex fa-2x"> </i><span></span></div></td><td>{{trans.CcFirstSix}}-{{trans.CcLastFour}}</td><!--td {{trans.ResponseDescription}}--><td><a href="" class="groupAnchor"><span ng-class="(trans.ResultCode === 0) ? 'success' : 'failed' ">{{returnStatus(trans)}}</span><i class="fa fa-info-circle"></i><div class="floater"><ul><li>{{trans.ResponseDescription}}</li></ul></div></a></td><td>{{trans.FirstName}}</td><td>{{trans.LastName}}</td><td>{{trans.Email}}</td><td class="paymentTypes"><div ng-if="trans.Type == 'Authorize' &amp;&amp; trans.ResultCode == 0"><a tooltip="Void transaction: {{trans.TransactionId}}" tooltip-placement="top" ng-click="open(trans)" href="" ng-controller="voidModalCtrl" class="row_btn alazarin_btn search_width margin-right"> <i class="fa fa-ban"></i><span>void</span></a><a tooltip="Unable to refund with type as authorize" tooltip-placement="top" class="row_btn orange_btn search_width disabled"><i class="fa fa-money"></i><span>Refund</span></a></div><div ng-if="trans.Type == 'Capture' || trans.Type == 'Charge' &amp;&amp; trans.ResultCode == 0"><a tooltip="Void transaction: {{trans.TransactionId}}" ng-click="open(trans)" href="" ng-controller="voidModalCtrl" class="row_btn alazarin_btn search_width margin-right"><i class="fa fa-ban"></i><span>void</span></a><a tooltip="Refund transaction: {{trans.TransactionId}}" ng-click="open(trans)" href="" ng-controller="refundModalCtrl" class="row_btn orange_btn search_width"><i class="fa fa-money"></i><span>Refund</span></a></div><div ng-if="trans.Type == 'Void' || trans.Type == 'Refund' || trans.Type == 'Credit' || trans.ResultCode !== 0"><a tooltip="Unable to void with this processed type" tooltip-placement="top" class="row_btn alazarin_btn search_width margin-right disabled"><i class="fa fa-ban"></i><span>void</span></a><a tooltip="Unable to refund with this processed type" tooltip-placement="top" class="row_btn orange_btn search_width disabled"><i class="fa fa-money"></i><span>Refund</span></a></div></td></tr></tbody><tfoot><tr><td colspan="13" class="text-center"><div st-items-by-page="20" st-pagination=""></div></td></tr></tfoot></table></div></div></div></div><div ng-show="searchType == 'Groups'" class="row"><h1>Reports</h1><div class="form_wrapper"><!--form.form.searcher.snap-shot.panel.panel-default.panel-heading
    h2.panel-title Transaction Snapshot:
.panel-body
    .row
        .col-md-12.col-lg-3
            label Start Date:
            .row
                .col-md-8
                    include partials/calendar1-1.jade
                .col-md-2
                    select.form-control(ng-options="item as item for item in Hours" ng-model="blah")
                    
                .col-md-2
                    select.form-control(ng-options="item as item for item in Mins" ng-model="blahblah")
                       
                    
        .col-md-12.col-lg-3
            label End Date:
            .row
                .col-md-8
                    include partials/calendar1-2.jade
                .col-md-2
                    select.form-control(ng-options="item as item for item in Hours" ng-model="blah2")
                        
                    
                .col-md-2
                    select.form-control(ng-options="item as item for item in Mins" ng-model="blahblah2")
                       
                    
        .col-md-6.col-lg-2
            label Preset Date Range:
            select.form-control(ng-model="snap.fromDate")
                option Select An Item
                option(value="{{Yesterday}}") Yesterday
                //option Last Week
                //option Last Month
                //option Last Quarter
                //option Last Year
                option(value="{{past3Days}}") Past 3 Days
                option(value="{{past7Days}}") Past 7 Days
                option(value="{{past90Days}}") Past 90 Days
                option(value="{{past180Days}}") Past 180 Days
                option(value="{{past360Days}}") Past 365 Days
        .col-md-6.col-lg-4
            label Gateway
            select.form-control
                option All Platforms Selected
                option platform 1
                option platform 2
                option platform 3
    .row
        .col-md-12
            button.generate_results(type="submit")
                i.fa.fa-search
                span Snapshot Search--><form name="transForm" ng-submit="transFormSubmit()" class="form searcher trans-form panel panel-default"><div class="panel-heading"><h2 class="panel-title">Transaction Search:</h2></div><div class="panel-body"><h2 class="date_title search_header">Date Selection:</h2><div class="row"><div class="col-md-12 col-lg-4"><label>Start Date:</label><div class="row"><div class="col-md-8"><div ng-controller="transfromDateCtrl" class="daterangePick"><input type="text" ng-model="transForm.fromDate" datepicker-popup="{{format}}" is-open="opened" min-date="&quot;minDate&quot;" max-date="&quot;maxDate&quot;" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="false" close-text="Close" placeholder="{{fromDate | date:&quot;MM/dd/yyyy&quot;}}" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div class="col-md-2"><select ng-options="item as item for item in Hours" ng-model="fromHours" class="form-control"></select></div><div class="col-md-2"><select ng-options="item as item for item in Mins" ng-model="fromMins" class="form-control"></select></div></div></div><div class="col-md-12 col-lg-4"><label>End Date:</label><div class="row"><div class="col-md-8"><div ng-controller="transendDateCtrl" class="daterangePick"><input type="text" ng-model="transForm.toDate" datepicker-popup="{{format}}" is-open="opened" min-date="&quot;minDate&quot;" max-date="&quot;maxDate&quot;" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="false" close-text="Close" placeholder="{{toDate | date:&quot;MM/dd/yyyy&quot;}}" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div class="col-md-2"><select ng-options="item as item for item in Hours" ng-model="toHours" class="form-control"></select></div><div class="col-md-2"><select ng-options="item as item for item in Mins" ng-model="toMins" class="form-control"></select></div></div></div><div class="col-md-6 col-lg-4"><label>Preset Date Range:</label><select ng-model="transForm.fromDate" class="form-control"><option>Select An Item</option><option value="{{Yesterday}}">Yesterday</option><!--option Last Week--><!--option Last Month--><!--option Last Quarter--><!--option Last Year--><option value="{{past3Days}}" class="pastSet">Past 3 Days</option><option value="{{past7Days}}" class="pastSet">Past 7 Days</option><option value="{{past90Days}}" class="pastSet">Past 90 Days</option><option value="{{past180Days}}" class="pastSet">Past 180 Days</option><option value="{{past360Days}}" class="pastSet">Past 365 Days</option></select><!--select.form-control(ng-options="obj.value as obj.name for obj in dateRanges" ng-model="transForm.dateOptions" ng-change="updateOptions(transForm)")--></div></div><h2 class="search_header">Merchant Details:    </h2><div class="row"><div class="col-md-4"><label>Gateway</label><select ng-model="transForm.gateway" ng-options="obj.Id as obj.DisplayName for obj in gateways" class="form-control"></select></div><div class="col-md-4"><label>Merchant:</label><select ng-model="transForm.MID" ng-options="obj.Id as obj.DisplayName for obj in mids" class="form-control"></select></div><div class="col-md-4"><label>Status:</label><select ng-model="transForm.Status" class="form-control"><option>Any Status</option><option value="0">Success</option><option value="1">Declined</option><option value="2">Error</option></select></div><!--.col-md-4label Transaction Type:
select.form-control(ng-model="transForm.transType")
    option Any Transaction Type
    option(value=1) Charge
    option(value=2) Void
    option(value=3) Refund
    option(value=4) Authorize
    option(value=6) Capture--><!--.col-md-3label Action Type:
select.form-control
    option Any Action Type
    option option1--></div><h2 class="search_header">User Details:</h2><div class="row"><div class="col-md-4"><label>Transaction ID:</label><input type="text" placeholder="Transaction ID" ng-model="transForm.transId" class="form-control"/></div><div class="col-md-4"><label>Transaction Type:</label><select ng-model="transForm.transType" class="form-control"><option>Any Transaction Type</option><option value="1">Charge</option><option value="2">Void</option><option value="3">Refund</option><option value="4">Authorize</option><option value="6">Capture</option></select></div><div class="col-md-4"><label>Reference Number:</label><input type="text" placeholder="Reference Number" ng-model="transForm.refNumber" class="form-control"/></div><!--.col-md-3label Order ID:
input.form-control(type="text" placeholder="Order ID")--><!--.col-md-3label Last Name:
input.form-control(type="text" placeholder="Last Name" ng-model="transForm.lname")--><!--.col-md-3label First Name:
input.form-control(type="text" placeholder="First Name" ng-model="transForm.fname")--></div><div class="row"><div class="col-md-4"><label>Last Name:</label><input type="text" placeholder="Last Name" ng-model="transForm.lname" class="form-control"/></div><div class="col-md-4"><label>First Name:</label><input type="text" placeholder="First Name" ng-model="transForm.fname" class="form-control"/></div><div class="col-md-4"><label>Email:</label><input type="text" placeholder="Email" ng-model="transForm.email" class="form-control"/></div></div><div class="row"><div class="col-md-4"><label>Phone Number:</label><input type="text" placeholder="Phone Number" ng-model="transForm.phone" class="form-control"/></div><div class="col-md-4"><label>Credit Card Last Four:</label><input type="text" placeholder="Credit Card Last Four" ng-model="transForm.CcLast4" class="form-control"/></div></div><div class="row"><div class="col-md-12"><button type="submit" class="generate_results"><i class="fa fa-search"></i><span>Transaction Search:</span></button></div></div></div></form></div></div></div><div class="transForm_feedback"><div class="panel panel-default transForm_results"><div class="panel-heading"><div class="row"><div class="col-md-6"><h2 class="panel-title"><span>{{dataLen}} results</span></h2></div><div class="col-md-6"><a ng-csv="transactionCSV" filename="transactions.csv" ng-show="transactionCSV.length" class="def_btn wet_asphalt_btn float-right margin-right"><i class="fa fa-file"></i><span>Export Excel</span></a><a ng-click="new_search()" class="def_btn belize_hole_btn float-right margin-right"><i class="fa fa-search"></i><span>New Search</span></a><a ng-click="modify_search()" class="def_btn peter_river_btn float-right margin-right"><i class="fa fa-search-plus"></i><span>Modify Search</span></a></div></div></div><div class="panel-body"><accordion close-others="oneAtATime"><table st-table="shownData" st-safe-src="transData" class="table"><thead><tr><th colspan="13"><input st-search="" type="text" placeholder="Filter through all search results..." class="form-control"/></th></tr><tr><th>Trans ID</th><th>Type</th><th>Gateway</th><th>MID Name</th><th>Date</th><th>Amount</th><th>CC Type</th><th>#CC</th><th>Status</th><th>First Name</th><th>Last Name</th><th style="width:10%">Email</th><th style="width:20%">Actions</th></tr></thead><tbody ng-repeat="tran in shownData"><tr><td class="search-results-trans-id"><a ng-click="open(tran)" ng-controller="transModalCtrl" class="row_btn peter_river_btn full_width"><i class="fa fa-eye"></i><span>{{tran.TransactionId}}</span></a></td><td>{{tran.Type}}</td><td>{{tran.Gateway}}</td><td>{{tran.MidDisplayName}}</td><td>{{tran.RequestDate | date:'shortDate'}}</td><td>{{tran.Amount}}</td><td>{{tran.PaymentTypeName}}</td><td>{{tran.CcLastFour}}</td><!--td {{returnStatus(tran)}}--><td><a href="" class="groupAnchor"><span ng-class="(tran.ResultCode === 0) ? 'success' : 'failed' ">{{returnStatus(tran)}}</span><i class="fa fa-info-circle"></i><div class="floater"><ul><li>{{tran.ResponseDescription}}</li></ul></div></a></td><td>{{tran.FirstName}}</td><td>{{tran.LastName}}</td><td>{{tran.Email}}</td><td><a ng-click="open(tran)" ng-controller="refundModalCtrl" class="table_action_btn peter_river_btn margin-right"><i class="fa fa-money"></i><span class="btn_text">Refund</span></a><a ng-click="open(tran)" ng-controller="voidModalCtrl" class="table_action_btn alazarin_btn margin-right"><i class="fa fa-ban"></i><span class="btn_text">Void</span></a><a ng-click="doToggle(tran)" ng-if="tran.RelatedTransactions &amp;&amp; tran.RelatedTransactions.length &gt; 0" class="table_action_btn peter_river_btn"><i class="fa fa-eye"></i><span class="btn_text">Trans</span><span>{{tran.RelatedTransactions.length}}</span></a></td><!--td.paymentTypesdiv(ng-if="trans.Type == 'Authorize' && trans.ResultCode == 0")
    a.table_action_btn.alazarin_btn.margin-right(tooltip="Void transaction: {{trans.TransactionId}}" tooltip-placement="top" ng-click="open(trans)" href="" ng-controller="voidModalCtrl") 
      i.fa.fa-ban
      span void
    a.table_action_btn.orange_btn.disabled.margin-right(tooltip="Unable to refund with type as authorize" tooltip-placement="top")
      i.fa.fa-money
      span Refund
    a.table_action_btn.peter_river_btn
      i.fa.fa-eye
      span Trans  

div(ng-if="trans.Type == 'Capture' || trans.Type == 'Charge' && trans.ResultCode == 0")
  a.table_action_btn.alazarin_btn.margin-right(tooltip="Void transaction: {{trans.TransactionId}}" ng-click="open(trans)" href="" ng-controller="voidModalCtrl")
    i.fa.fa-ban
    span void
  a.table_action_btn.orange_btn.margin-right(tooltip="Refund transaction: {{trans.TransactionId}}" ng-click="open(trans)" href="" ng-controller="refundModalCtrl")
    i.fa.fa-money
    span Refund
  a.table_action_btn.peter_river_btn
    i.fa.fa-eye
    span Trans


div(ng-if="trans.Type == 'Void' || trans.Type == 'Refund' || trans.Type == 'Credit' || trans.ResultCode !== 0")
  a.table_action_btn.alazarin_btn.margin-right.disabled(tooltip="Unable to void with this processed type" tooltip-placement="top")
    i.fa.fa-ban
    span void
  a.table_action_btn.orange_btn.disabled.margin-right(tooltip="Unable to refund with this processed type" tooltip-placement="top")
    i.fa.fa-money
    span Refund
  a.table_action_btn.peter_river_btn
    i.fa.fa-eye
    span Trans

  
--><td><tr><td colspan="13" ng-if="tran.RelatedTransactions &amp;&amp; tran.RelatedTransactions.length &gt; 0" class="pushToggle"><accordion-group heading="" is-open="true"><h2> <i class="fa fa-exchange"></i><span>Related Transactions</span></h2><table class="table table-striped"><thead><tr><th>Transaction ID</th><th>API User</th><th>Amount</th><th>Type</th><th>Status</th><th>Gateway</th><th>Name</th><th>MID</th><th>Payment Type</th><th>Date</th></tr></thead><tbody>{{getNestedApiUser(tran)}}<tr ng-repeat="thing in nestedTrans"><td>{{thing.TransactionId}}</td><td>{{thing.ApiUser}}</td><td>{{thing.Amount}}</td><td>{{thing.Type}}</td><!--td {{getNestedStatus(thing)}}--><td><a href="" class="groupAnchor"><span ng-class="(thing.ResultCode === 0) ? 'success' : 'failed'">{{getNestedStatus(thing)}}</span><i class="fa fa-info-circle"></i><div class="floater"><ul><li>{{thing.ResponseDescription}}</li></ul></div></a></td><td>{{thing.Gateway}}</td><td>{{thing.MidDisplayName}}</td><td>{{thing.Mid}}</td><td>{{thing.PaymentTypeName}}</td><td>{{thing.RequestDate  | date:'shortDate'}}</td></tr></tbody></table></accordion-group></td></tr></td></tr><tfoot><tr><td colspan="13" class="text-center"><div st-items-by-page="20" st-pagination="">                                      </div></td></tr></tfoot></tbody></table></accordion></div></div></div>